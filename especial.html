<!DOCTYPE html>
<html>

<head>
    <!-- Required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- Color theme for statusbar (Android only) -->
    <meta name="theme-color" content="#2196f3">
    <!-- Your app title -->
    <title>My App</title>
    <!-- Path to Framework7 Library Bundle CSS -->
    <link rel="stylesheet" href="lib/framework7-bundle.min.css">
    <!-- CSS PERSONALIZADO PARA MENU-->
    <link rel="stylesheet" href="css/personalizado.css">
    <!--Ícones Material Design-->
    <link rel="stylesheet" href="css/materialdesignicons.min.css">


</head>

<body>
    <!-- App root element -->
    <div id="app">

        <!-- Your main view, should have "view-main" class -->
        <div class="view view-main">
            <!-- Initial Page, "data-name" contains page name -->
            <div data-name="especial" class="page">

                <!-- Top Navbar 
                <div class="navbar">
                    <div class="navbar-bg"></div>
                    <div class="navbar-inner justify-content-center">
                        <div class="title ">Link 3</div>
                    </div>

                    <div class="moon"></div>
                       
                </div>-->

                <!-- Scrollable page content -->
                <div class="page-content">
                    <div class="block">



                        <div class="moon">
                            <div class="crater crater1"></div>
                            <div class="crater crater2"></div>
                            <div class="crater crater3"></div>
                        </div>


                        <!-- Estrelas com 6 pontas (Estrela de Davi) 
                        <div class="star">
                            <div class="triangle-up"></div>
                            <div class="triangle-down"></div>
                        </div>
                        <div class="star">
                            <div class="triangle-up"></div>
                            <div class="triangle-down"></div>
                        </div>
                        <div class="star">
                            <div class="triangle-up"></div>
                            <div class="triangle-down"></div>
                        </div>
                        <div class="star">
                            <div class="triangle-up"></div>
                            <div class="triangle-down"></div>
                        </div>
                        <div class="star">
                            <div class="triangle-up"></div>
                            <div class="triangle-down"></div>
                        </div>
                        <div class="star">
                            <div class="triangle-up"></div>
                            <div class="triangle-down"></div>
                        </div>-->

                        <!-- Nuvens decorativas -->
                        <img src="img/imgNuvemAzul.png" class="nuvem-fixa nuvem50" alt="nuvem decorativa">
                        <img src="img/imgNuvemAzul.png" class="nuvem-fixa nuvem51" alt="nuvem decorativa">
                        <img src="img/imgNuvemAzul.png" class="nuvem-fixa nuvem52" alt="nuvem decorativa">
                        <img src="img/imgNuvemAzul.png" class="nuvem-fixa nuvem53" alt="nuvem decorativa">
                        <img src="img/imgNuvemAzul.png" class="nuvem-fixa nuvem54" alt="nuvem decorativa">




                        <!-- 
                        <div class="formEsp">


                            <h1>Formulário de Avaliação PEI</h1>


                            <form id="evaluationForm">
                              Seção 1: Aprendizagem e Desenvolvimento Cognitivo 
                                <fieldset>
                                    <legend>1. Aprendizagem e Desenvolvimento Cognitivo</legend>

                                    <label for="nome">Nome:</label>
                                    <input type="text" id="nome" name="nome" required>

                                    <label for="idade">Idade:</label>
                                    <input type="number" id="idade" name="idade" required>

                                    <fieldset>
                                        <legend>1.1 Quais são os pontos fortes da criança na aprendizagem?</legend>
                                        <label><input type="checkbox" name="pontos_fortes" value="Memória visual">
                                            Memória visual</label>
                                        <label><input type="checkbox" name="pontos_fortes" value="Atenção a detalhes">
                                            Atenção a detalhes</label>
                                        <label><input type="checkbox" name="pontos_fortes"
                                                value="Boa coordenação motora"> Boa coordenação motora</label>
                                        <label><input type="checkbox" name="pontos_fortes"
                                                value="Facilidade com números"> Facilidade com números</label>
                                    </fieldset>

                                    <fieldset>
                                        <legend>1.2 Quais áreas ela apresenta maior dificuldade?</legend>
                                        <label><input type="checkbox" name="dificuldades" value="Leitura">
                                            Leitura</label>
                                        <label><input type="checkbox" name="dificuldades" value="Escrita">
                                            Escrita</label>
                                        <label><input type="checkbox" name="dificuldades" value="Matemática">
                                            Matemática</label>
                                        <label><input type="checkbox" name="dificuldades" value="Atenção e foco">
                                            Atenção e foco</label>
                                        <label><input type="checkbox" name="dificuldades"
                                                value="Organização de tarefas"> Organização de tarefas</label>
                                        <label><input type="checkbox" name="dificuldades"
                                                value="Compreensão de instruções"> Compreensão de instruções</label>
                                    </fieldset>

                                    <fieldset>
                                        <legend>1.3 Como ela prefere aprender?</legend>
                                        <label><input type="radio" name="preferencia_aprendizado"
                                                value="Estímulos visuais"> Estímulos visuais (imagens, vídeos)</label>
                                        <label><input type="radio" name="preferencia_aprendizado"
                                                value="Estímulos auditivos"> Estímulos auditivos (música,
                                            histórias)</label>
                                        <label><input type="radio" name="preferencia_aprendizado"
                                                value="Atividades práticas"> Atividades práticas (tocar, montar)</label>
                                        <label><input type="radio" name="preferencia_aprendizado"
                                                value="Jogos e desafios"> Jogos e desafios</label>
                                        <label><input type="radio" name="preferencia_aprendizado" value="Por repetição">
                                            Por repetição</label>
                                    </fieldset>

                                    <fieldset>
                                        <legend>1.4 Qual o tempo médio de atenção em atividade?</legend>
                                        <label><input type="radio" name="tempo_atencao" value="Menos de 5 minutos">
                                            Menos de 5 minutos</label>
                                        <label><input type="radio" name="tempo_atencao" value="De 5 a 10 minutos"> De 5
                                            a 10 minutos</label>
                                        <label><input type="radio" name="tempo_atencao" value="De 10 a 20 minutos"> De
                                            10 a 20 minutos</label>
                                        <label><input type="radio" name="tempo_atencao" value="Mais de 20 minutos"> Mais
                                            de 20 minutos</label>
                                    </fieldset>

                                    <fieldset>
                                        <legend>1.5 Que tipo de suporte é necessário?</legend>
                                        <label><input type="checkbox" name="suporte_necessario"
                                                value="Ajuda para iniciar atividades"> Ajuda para iniciar
                                            atividades</label>
                                        <label><input type="checkbox" name="suporte_necessario" value="Apoio constante">
                                            Apoio constante</label>
                                        <label><input type="checkbox" name="suporte_necessario"
                                                value="Repetição de instruções"> Repetição de instruções</label>
                                        <label><input type="checkbox" name="suporte_necessario"
                                                value="Adaptação do material"> Adaptação do material</label>
                                        <label><input type="checkbox" name="suporte_necessario"
                                                value="Ambiente tranquilo"> Ambiente tranquilo</label>
                                    </fieldset>
                                </fieldset>


                                <button type="button" id="generatePdf">Gerar PDF</button>
                            </form>


                        </div>
                    -->


                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Path to Framework7 Library Bundle JS-->
    <script type="text/javascript" src="lib/framework7-bundle.min.js"></script>
    <!-- jQuery -->
    <script type="text/javascript" src="lib/jquery-3.7.0.min.js"></script>
    <!-- Roteamento do app-->
    <script type="text/javascript" src="js/routes.js"></script>
    <script src="cordova.js"></script>
    <!-- Biblioteca html2pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>




    <script>
        document.addEventListener('deviceready', function () {
            document.getElementById('generatePdf').addEventListener('click', function () {
                const form = document.getElementById('peiForm');
                const formData = new FormData(form);
                let html = "<h1>Formulário PEI</h1>";

                formData.forEach((value, key) => {
                    html += `<p><strong>${key}:</strong> ${value}</p>`;
                });

                const options = { documentSize: 'A4', type: 'base64' };
                pdf.fromData(`<html><body>${html}</body></html>`, options)
                    .then(base64 => {
                        const fileName = "formulario_pei.pdf";
                        const byteCharacters = atob(base64);
                        const byteArray = new Uint8Array(byteCharacters.length);
                        for (let i = 0; i < byteCharacters.length; i++) {
                            byteArray[i] = byteCharacters.charCodeAt(i);
                        }
                        const blob = new Blob([byteArray], { type: "application/pdf" });

                        window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function (dirEntry) {
                            dirEntry.getFile(fileName, { create: true, exclusive: false }, function (fileEntry) {
                                fileEntry.createWriter(function (writer) {
                                    writer.write(blob);
                                    alert("PDF salvo com sucesso!");
                                });
                            });
                        });
                    });
            });
        });
    </script>

</body>

</html>